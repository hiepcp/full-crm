CREATE TABLE IF NOT EXISTS crm_customer (
  Id BIGINT PRIMARY KEY AUTO_INCREMENT,
  Name VARCHAR(255) NOT NULL,
  Domain VARCHAR(253) NULL,
  Phone VARCHAR(64) NULL,
  Email VARCHAR(320) NULL,
  BillingAddress TEXT NULL,
  ShippingAddress TEXT NULL,
  Website VARCHAR(500) NULL,
  Type ENUM('Customer','Prospect','Partner','Supplier','Other') NOT NULL DEFAULT 'Customer',
  OwnerId BIGINT NULL,
  VatNumber VARCHAR(50) NULL,
  Currency VARCHAR(3) NOT NULL DEFAULT 'USD',
  Country VARCHAR(3) NULL,
  Industry VARCHAR(100) NULL,
  Notes TEXT NULL,
  PaymentTerms VARCHAR(100) NULL,
  DeliveryTerms VARCHAR(200) NULL,
  ContactPerson VARCHAR(255) NULL,
  CreatedOn DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  CreatedBy VARCHAR(255) NULL,
  UpdatedOn DATETIME NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  UpdatedBy VARCHAR(255) NULL,

  INDEX idx_crm_customer_name (Name),
  INDEX idx_crm_customer_domain (Domain),
  INDEX idx_crm_customer_email (Email),
  INDEX idx_crm_customer_owner_id (OwnerId),
  INDEX idx_crm_customer_type (Type),
  INDEX idx_crm_customer_country (Country),
  INDEX idx_crm_customer_industry (Industry),
  INDEX idx_crm_customer_created_on (CreatedOn),
  INDEX idx_crm_customer_updated_on (UpdatedOn)
);
