CREATE TABLE IF NOT EXISTS crm_lead (
  Id BIGINT PRIMARY KEY AUTO_INCREMENT,
  Email VARCHAR(320) NULL,
  TelephoneNo VARCHAR(64) NULL,
  FirstName VARCHAR(128) NULL,
  LastName VARCHAR(128) NULL,
  Company VARCHAR(255) NULL,
  Website VARCHAR(253) NULL,
  Country VARCHAR(3) NULL,
  VatNumber VARCHAR(64) NULL,
  PaymentTerms VARCHAR(100) NULL,
  Source ENUM('web','event','referral','ads','facebook','other') NULL,
  Status ENUM('new','working','qualified','unqualified') NULL,
  OwnerId BIGINT NULL,
  Score INT NULL,
  IsConverted TINYINT(1) NOT NULL DEFAULT 0,
  ConvertedAt DATETIME NULL,
  CustomerId BIGINT NULL,
  ContactId BIGINT NULL,
  DealId BIGINT NULL,
  IsDuplicate TINYINT(1) NOT NULL DEFAULT 0,
  DuplicateOf BIGINT NULL,
  Note TEXT NULL,
  FollowUpDate DATE NULL,
  CreatedOn DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  CreatedBy VARCHAR(255) NULL,
  UpdatedOn DATETIME NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  UpdatedBy VARCHAR(255) NULL,

  INDEX idx_crm_lead_email (Email),
  INDEX idx_crm_lead_website (Website),
  INDEX idx_crm_lead_country (Country),
  INDEX idx_crm_lead_owner_id (OwnerId),
  INDEX idx_crm_lead_status (Status),
  INDEX idx_crm_lead_source (Source),
  INDEX idx_crm_lead_score (Score),
  INDEX idx_crm_lead_created_on (CreatedOn),
  INDEX idx_crm_lead_updated_on (UpdatedOn)
);
